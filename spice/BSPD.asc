Version 4
SHEET 1 1176 680
WIRE -2000 -112 -2000 -128
WIRE -2000 -96 -2000 -112
WIRE -464 -96 -480 -96
WIRE -448 -96 -464 -96
WIRE -2240 -80 -2272 -80
WIRE -160 -48 -160 -64
WIRE -160 -32 -160 -48
WIRE -160 -32 -192 -32
WIRE -128 -32 -160 -32
WIRE -2144 -16 -2144 -32
WIRE 752 -16 736 -16
WIRE 768 -16 752 -16
WIRE -2240 0 -2240 -80
WIRE -2176 0 -2240 0
WIRE -192 0 -192 -32
WIRE -128 0 -128 -32
WIRE 400 0 0 0
WIRE -2000 16 -2000 -16
WIRE -2000 16 -2112 16
WIRE -1872 16 -2000 16
WIRE -2352 32 -2432 32
WIRE -2176 32 -2352 32
WIRE -912 32 -912 16
WIRE -1376 48 -1408 48
WIRE -912 48 -912 32
WIRE -2144 64 -2144 48
WIRE -1248 64 -1248 0
WIRE -1152 80 -1152 32
WIRE 96 80 48 80
WIRE 352 80 320 80
WIRE 368 80 352 80
WIRE -1248 96 -1248 64
WIRE -1184 96 -1248 96
WIRE -240 96 -240 64
WIRE -192 96 -192 64
WIRE -192 96 -240 96
WIRE -128 96 -128 80
WIRE -128 96 -192 96
WIRE 48 96 48 80
WIRE -1088 112 -1120 112
WIRE -1232 128 -1248 128
WIRE -1184 128 -1232 128
WIRE -1872 144 -1872 16
WIRE -1856 144 -1872 144
WIRE -1760 144 -1856 144
WIRE -1632 144 -1696 144
WIRE -1536 144 -1632 144
WIRE -224 144 -352 144
WIRE -128 144 -128 96
WIRE -128 144 -224 144
WIRE -64 144 -128 144
WIRE 0 144 0 0
WIRE 0 144 -64 144
WIRE 96 144 0 144
WIRE 752 144 752 128
WIRE -1536 160 -1536 144
WIRE -1488 160 -1488 48
WIRE -1488 160 -1536 160
WIRE -1392 160 -1488 160
WIRE -1312 160 -1312 48
WIRE -1248 160 -1248 128
WIRE -1248 160 -1312 160
WIRE -1152 160 -1152 144
WIRE -1088 160 -1088 112
WIRE -912 160 -912 128
WIRE -912 160 -1088 160
WIRE -848 160 -912 160
WIRE -624 160 -784 160
WIRE -560 160 -624 160
WIRE 752 160 752 144
WIRE 752 160 688 160
WIRE 864 160 752 160
WIRE -2240 176 -2272 176
WIRE -2000 176 -2000 160
WIRE -1856 176 -1872 176
WIRE -1760 176 -1856 176
WIRE -2000 192 -2000 176
WIRE -848 192 -1056 192
WIRE -560 192 -560 160
WIRE -528 192 -560 192
WIRE -416 192 -448 192
WIRE 688 192 688 160
WIRE 864 192 864 160
WIRE 992 192 864 192
WIRE 64 208 -16 208
WIRE 96 208 64 208
WIRE 400 208 400 0
WIRE 400 208 320 208
WIRE 752 208 752 160
WIRE -2144 272 -2144 256
WIRE 96 272 48 272
WIRE 912 272 864 272
WIRE 992 272 912 272
WIRE -2240 288 -2240 176
WIRE -2176 288 -2240 288
WIRE -1632 288 -1632 144
WIRE -1056 288 -1056 192
WIRE -1056 288 -1632 288
WIRE 48 288 48 272
WIRE -2000 304 -2000 272
WIRE -2000 304 -2112 304
WIRE -1872 304 -1872 176
WIRE -1872 304 -2000 304
WIRE -352 304 -352 240
WIRE 688 304 688 272
WIRE 752 304 752 272
WIRE 752 304 688 304
WIRE 864 304 864 272
WIRE 864 304 752 304
WIRE -2320 320 -2416 320
WIRE -2176 320 -2320 320
WIRE -2144 352 -2144 336
WIRE 752 368 752 304
WIRE 48 384 48 368
WIRE 48 400 48 384
WIRE -16 432 -16 208
WIRE 272 432 -16 432
WIRE 416 432 272 432
WIRE 624 448 480 448
WIRE 704 448 624 448
WIRE 272 464 272 432
WIRE 416 464 272 464
WIRE 752 528 752 464
FLAG -560 -96 0
FLAG -464 -96 +5V
FLAG 48 384 +5V
FLAG 352 80 +5V
FLAG -160 -48 +5V
FLAG -2512 32 0
FLAG 48 96 0
FLAG -352 304 0
FLAG -64 144 TRIG
FLAG 64 208 OUT
FLAG 752 528 0
FLAG 624 528 0
FLAG 656 -16 0
FLAG 752 -16 +12V
FLAG 752 144 +12V
FLAG -912 32 +5V
FLAG -1152 32 +5V
FLAG -1152 160 0
FLAG -1312 224 0
FLAG -1328 0 0
FLAG -240 0 0
FLAG -2000 -112 +5V
FLAG -2000 176 +5V
FLAG -2352 -80 0
FLAG -2352 176 0
FLAG -2144 64 0
FLAG -2144 -32 +5V
FLAG -2144 352 0
FLAG -2144 256 +5V
FLAG -1856 144 implausibility1
FLAG -1856 176 implausibility2
FLAG -2496 320 0
FLAG -2352 32 TPS_Input
FLAG -2320 320 Brake_Input
FLAG 912 272 relay
FLAG -224 144 THRS
FLAG -624 160 0.5sec_output
FLAG -1232 128 RC1
FLAG -1248 64 0.5_THRS
DATAFLAG -112 144 ""
SYMBOL voltage -464 -96 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL res 32 272 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL Misc\\NE555 208 176 R0
SYMATTR InstName U1
SYMBOL res -144 -16 R0
SYMATTR InstName R2
SYMATTR Value 92k
SYMBOL cap -208 0 R0
SYMATTR InstName C1
SYMATTR Value 100µF
SYMBOL npn -416 144 R0
SYMATTR InstName Q1
SYMBOL res -432 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 2.4k
SYMBOL nmos 704 368 R0
SYMATTR InstName M1
SYMATTR Value BSB012N03LX3
SYMBOL res 608 432 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 672 176 R0
WINDOW 0 -28 30 Left 2
WINDOW 3 -18 79 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL schottky 768 272 R180
WINDOW 0 25 58 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value RB521VM-40
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 752 -16 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12V
SYMBOL res 976 176 R0
SYMATTR InstName RLoad
SYMATTR Value 2k
SYMBOL res -928 32 R0
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL cap -1328 160 R0
WINDOW 3 26 52 Left 2
SYMATTR Value 100µF
SYMATTR InstName C2
SYMBOL res -1296 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 17 87 VTop 2
SYMATTR InstName R7
SYMATTR Value 5.1k
SYMBOL voltage -1232 0 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -21 -1 VRight 2
WINDOW 3 -44 64 VLeft 2
SYMATTR InstName V4
SYMATTR Value 3.12V
SYMBOL diode -256 0 R0
SYMATTR InstName D1
SYMBOL res -2016 176 R0
SYMATTR InstName R8
SYMATTR Value 5k
SYMBOL res -2016 -112 R0
SYMATTR InstName R9
SYMATTR Value 5k
SYMBOL voltage -2256 -80 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -17 -151 VRight 2
WINDOW 3 -44 64 VLeft 2
SYMATTR InstName TPS_Threshold
SYMATTR Value 1.518
SYMBOL voltage -2256 176 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -23 -173 VRight 2
WINDOW 3 -44 64 VLeft 2
SYMATTR InstName Brake_Threshold
SYMATTR Value 1.518
SYMBOL Comparators\\LT1018 -2144 16 R0
SYMATTR InstName U10
SYMBOL Comparators\\LT1018 -2144 304 R0
SYMATTR InstName U8
SYMBOL Comparators\\LT1018 -1152 112 R0
SYMATTR InstName U9
SYMBOL voltage -2416 32 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 1 1n 1n 8 16)
SYMBOL voltage -2400 320 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL Digital\\and -816 112 R0
WINDOW 3 16 52 Left 2
SYMATTR Value vhigh=5
SYMATTR InstName A2
SYMBOL Digital\\and -1728 96 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value vhigh=5
SYMATTR InstName A1
SYMBOL Digital\\and 448 368 R0
WINDOW 3 16 52 Left 2
SYMATTR Value vhigh=5
SYMATTR InstName A3
SYMBOL diode -1312 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL res -1392 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
TEXT -400 456 Left 2 !.tran 40
